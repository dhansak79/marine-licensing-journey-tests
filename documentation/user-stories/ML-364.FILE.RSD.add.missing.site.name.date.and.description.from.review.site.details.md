# ML-364: FILE - RSD - Add Missing Site Name, Date & Description from Review Site Details

## User Story

**AS** an applicant  
**I WANT** to add missing data to my site(s)  
**SO THAT** I can ensure my site details are fully completed

## Background

The flow for adding multiple sites has the potential for users to provide the basic location details for their sites, but without providing certain data such as site name, activity dates and activity description. The initial story for displaying multiple sites on the "Review site details" page (https://eaflood.atlassian.net/browse/ML-232) does not support the user in providing those missing details.

This story provides the functionality for the user to add the missing name, date and description details for their sites.

The behaviour in this story will apply regardless of whether the sites are provided by file upload or manual entry.

## Resources

- Link to "Review site details" from multiple sites prototype v2

## Out of Scope

Navigation to the next page in the flow will be covered by a separate story

This story does not cover the survey link and other links in the header

This story does not cover the links in the footer

## Questions and Answers

TBC

## Screenshots

### Screenshot 1: Review Site Details Page with Incomplete Activity Dates

**Page layout showing:**

- Standard GOV.UK header with crown logo and "GOV.UK" branding in white text on blue background
- Blue service header containing "Get permission for marine work" as the service name
- Navigation area on the right side of the service header containing "Projects home", "Defra account", and "Sign out" links
- Beta banner with light grey background stating "This is a new service. Help us improve it and give your feedback (opens in new tab)." with an underlined feedback link
- Back link (with left arrow) for navigation to return to the previous page
- "South coast sea samples" displayed as the project name caption above the main heading in grey text
- "Review site details" as the main H1 heading in large, bold black text
- **Important notification banner** at the top of the content area with light grey background and red "Incomplete" label, stating:
  - "You must complete all sections marked 'Incomplete' before you can send your information."
  - "You can select 'Save and continue' to keep your progress and return later."
- **"Providing the site location" summary card** (grey bordered box) containing:
  - Card heading "Providing the site location"
  - **Method of providing site location**: "Upload a file with the coordinates of the site" with "Change" link in blue
  - **File type**: "KML" with "Change" link in blue
  - **File uploaded**: "se-coast-sample-sites-coordinates.kml" with "Change" link in blue
- **"Activity details" summary card** (grey bordered box) containing:
  - Card heading "Activity details"
  - **Are the activity dates the same for every site?**: "No" with "Change" link in blue
  - **Is the activity description the same for every site?**: "Yes" with "Change" link in blue
  - **Activity description**: "fastGcew" with "Change" link in blue
- **"Site 1 details" summary card** (grey bordered box) containing:
  - Card heading "Site 1 details"
  - **Site name**: "Sediment sample 1" with "Change" link in blue
  - **Activity dates**: Red "Incomplete" label with "Add" link in blue
  - **Map view**: Interactive map showing coastal area with a pentagon-shaped polygon site boundary marked in black outline on light blue water background with light beige coastline
  - Map zoom controls (+/-) in bottom right corner with "Map tiles by" attribution
- **"Site 2 details" summary card** with similar structure showing:
  - **Site name**: "Sediment sample 2" with "Change" link
  - **Activity dates**: Red "Incomplete" label with "Add" link in blue
  - **Map view**: Square-shaped polygon site boundary on interactive map showing coastal area
- **"Site 3 details" summary card** with similar structure showing:
  - **Site name**: "Sediment sample 3" with "Change" link
  - **Activity dates**: Red "Incomplete" label with "Add" link in blue
  - **Map view**: Triangle-shaped polygon site boundary on interactive map
- **"Site 4 details" summary card** with similar structure showing:
  - **Site name**: "Sediment sample 4" with "Change" link
  - **Activity dates**: Red "Incomplete" label with "Add" link in blue
  - **Map view**: Pentagon-shaped polygon site boundary on interactive map
- Guidance text at bottom: "Select 'Save and continue' to go to 'Your sites', where you can finish or add more sites."
- "Save and continue" button with green background positioned at the bottom of all site details
- "Cancel" link in blue text positioned to the right of the Save and continue button
- Standard GOV.UK footer with copyright information

## Acceptance Criteria

### AC1 - Add missing site name

**GIVEN** I am viewing the "Review site details" page  
**AND** there is a site with a missing site name (i.e. site name is marked as "INCOMPLETE")  
**WHEN** I select the "Add" option by the missing site name  
**THEN** I am taken to the "Site name" page (see https://eaflood.atlassian.net/browse/ML-228) so that I can add my site name  
**AND** the "Site name" page behaves as per the existing functionality  
**AND** I am able to:

- save changes to my answer (returns me to the "Review site details" page with changes saved)
- cancel out (returns me to the "Review site details" page without saving any changes)
- select 'back' (returns me to the "Review site details" page without saving any changes)

**NOTE** - these navigation changes for the "Site name" page will only apply to this specific scenario; other instances of the "Site name" page in other flows will be unaffected

### AC2 - Add missing activity dates

**GIVEN** I am viewing the "Review site details" page  
**AND** there is a site with missing activity dates (i.e. activity dates field is marked as "INCOMPLETE")  
**WHEN** I select the "Add" option by the missing activity dates  
**THEN** I am taken to the "Activity dates" page (see https://eaflood.atlassian.net/browse/ML-389) so that I can add my activity dates  
**AND** the "Activity dates" page behaves as per the existing functionality  
**AND** I am able to:

- save changes to my answer (returns me to the "Review site details" page with changes saved)
- cancel out (returns me to the "Review site details" page without saving any changes)
- select 'back' (returns me to the "Review site details" page without saving any changes)

**NOTE** - these navigation changes for the "Activity dates" page will only apply to this specific scenario; other instances of the "Activity dates" page in other flows will be unaffected

### AC3 - Add missing activity description

**GIVEN** I am viewing the "Review site details" page  
**AND** there is a site with a missing activity description (i.e. activity description field is marked as "INCOMPLETE")  
**WHEN** I select the "Add" option by the missing activity description  
**THEN** I am taken to the "Activity description" page (see https://eaflood.atlassian.net/browse/ML-390) so that I can add my activity description  
**AND** the "Activity description" page behaves as per the existing functionality  
**AND** I am able to:

- save changes to my answer (returns me to the "Review site details" page with changes saved)
- cancel out (returns me to the "Review site details" page without saving any changes)
- select 'back' (returns me to the "Review site details" page without saving any changes)

**NOTE** - these navigation changes for the "Activity description" page will only apply to this specific scenario; other instances of the "Activity description" page in other flows will be unaffected

### AC4 - Return user to anchor on site details summary card

**GIVEN** I have added a missing piece of data  
**WHEN** I provide that data and return to the "Review site details" page (as per the previous ACs)  
**THEN** I am returned to the anchor for the specific site that I was adding data for

**NOTE** - this ensure that the user is returned to the correct point on the page, which will make things easier if they have a long list of sites

## Standard Behaviour

**"Back" link** - when I select the "Back" link (if present), I will be returned to the page I was on immediately prior to the current page. Any changes I made on the current page will be discarded.

**"Cancel" link** - when I select the "Cancel" link (if present) I will be returned to the task list. Any changes I made on the current page will be discarded.

**"Add" links** - when I select an "Add" link next to an incomplete field, I will be taken to the appropriate page to provide the missing information, with navigation returning me to the Review Site Details page.

**Displaying validation errors** - if any validation errors are triggered, they will be displayed in standard GDS format i.e. [error summary](https://design-system.service.gov.uk/components/error-summary/) at the top of the page, and [error message](https://design-system.service.gov.uk/components/error-message/) against the specific item that triggered the error. The wording of error messages should be verified against the data dictionary.
