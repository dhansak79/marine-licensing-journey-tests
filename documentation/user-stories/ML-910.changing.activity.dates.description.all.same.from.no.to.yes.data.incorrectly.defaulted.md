# ML-910: Changing Activity Dates/Description All the Same from No to Yes - Data is Incorrectly Defaulted In

## User Story

**AS** an applicant  
**I WANT** the activity dates and description pages to be blank when I change from "No" to "Yes"  
**SO THAT** I can enter the correct common values for all sites

## Background

When an applicant changes their answer to "Are all the activity dates the same?" or "Is the activity description the same for every site?" from "No" to "Yes" on the "Review site details" page, the subsequent input page (Activity dates or Activity description) should be blank. However, there is a bug where these pages are being pre-populated with data, which is incorrect behaviour.

This issue affects both activity dates and activity descriptions and applies to both file upload and manual entry journeys.

## Resources

- Link to ML-695 AC4 and AC9 which specify the expected behaviour

## Out of Scope

N/A

## Questions and Answers

N/A

## Bug Description

### Steps to Reproduce

Create an exemption notification with multiple sites

When adding the sites, provide different activity dates / descriptions for each site

On the "Review site details" page, change the answer to the question "Are all the activity dates the same?" from "No" to "Yes"

Select "Continue". The Activity dates page is displayed.

ACTUAL: dates are pre-populated into the page

EXPECTED: dates are not populated (see AC4 of https://eaflood.atlassian.net/browse/ML-695)

The above is the same for changing the description from "No" to "Yes".

## Acceptance Criteria

### AC1 - Activity dates page is blank when changing from "No" to "Yes"

**GIVEN** I have an exemption notification with multiple sites  
**AND** I have provided different activity dates for each site  
**AND** I am viewing the "Review site details" page  
**WHEN** I select the change link against the "Are all the activity dates the same?" answer  
**AND** I change my answer from "No" to "Yes"  
**AND** I select "Continue"  
**THEN** I am taken to the "Activity dates" page  
**AND** the page is initially blank (not pre-populated with any dates)

### AC2 - Activity description page is blank when changing from "No" to "Yes"

**GIVEN** I have an exemption notification with multiple sites  
**AND** I have provided different activity descriptions for each site  
**AND** I am viewing the "Review site details" page  
**WHEN** I select the change link against the "Is the activity description the same for every site?" answer  
**AND** I change my answer from "No" to "Yes"  
**AND** I select "Continue"  
**THEN** I am taken to the "Activity description" page  
**AND** the page is initially blank (not pre-populated with any description)

### AC3 - Behaviour matches ML-695 AC4

**GIVEN** I have changed my answer from "No" to "Yes" on the "Are all the activity dates the same?" question  
**WHEN** I select the "Continue" option  
**THEN** I am taken forward through the remaining flow to define the activity dates for all the sites:

- from the "Are all the activity dates the same?" page (set to "Yes"), then
- the "Activity dates" page (initially blank), then
- the "Review site details" page

**AND** I can make changes on each page as necessary  
**AND** I can navigate forwards through this flow using the "Continue" button  
**AND** I can navigate backwards through this flow using the "Back" link (all the way back to the "Review site details" page)  
**AND** I am NOT able to cancel out of any of these pages as the "Cancel" option will not be present

### AC4 - Behaviour matches ML-695 AC9

**GIVEN** I have changed my answer from "No" to "Yes" on the "Is the activity description the same for every site?" question  
**WHEN** I select the "Continue" option  
**THEN** I am taken forward through the remaining flow to define the activity description for all the sites:

- from the "Is the activity description the same for every site?" page (set to "Yes"), then
- the "Activity description" page (initially blank), then
- the "Review site details" page

**AND** I can make changes on each page as necessary  
**AND** I can navigate forwards through this flow using the "Continue" button  
**AND** I can navigate backwards through this flow using the "Back" link (all the way back to the "Review site details" page)  
**AND** I am NOT able to cancel out of any of these pages as the "Cancel" option will not be present

## Standard Behaviour

**"Back" link** - when I select the "Back" link (if present), I will be returned to the page I was on immediately prior to the current page. Any changes I made on the current page will be discarded.

**"Cancel" link** - when I select the "Cancel" link (if present) I will be returned to the task list. Any changes I made on the current page will be discarded. Note: Cancel links are not present when making changes from the Review site details page as per the acceptance criteria.

**Displaying validation errors** - if any validation errors are triggered, they will be displayed in standard GDS format i.e. [error summary](https://design-system.service.gov.uk/components/error-summary/) at the top of the page, and [error message](https://design-system.service.gov.uk/components/error-message/) against the specific item that triggered the error. The wording of error messages should be verified against the data dictionary.
