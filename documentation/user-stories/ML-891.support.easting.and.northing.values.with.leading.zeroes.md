# ML-891 - Support Easting and Northing values with leading zeroes

## User Story

AS an applicant

I WANT to be able to enter easting and northing coordinates with leading zeroes

SO THAT I can provide accurate grid references for sites located in the western parts of the UK

## Summary of changes to be made

Eastings minimum is 000000 and maximum 700000. Unpadded 0 also allowed as a value.

Northings minimum is 000000 and maximum 1200000. Unpadded 0 also allowed as a value.

Any value within the ranges has to be 6 characters for eastings or 6/7 characters for northings, and should be left-padded with zeroes to achieve that eg eastings - 000700

Currently the services requires that -

eastings values are provided with 6 digits

northings values are provided with 6 or 7 digits

However, if you enter a value that meets the above criteria but has leading zeroes, the service is currently giving an error. See examples below:

CURRENT BEHAVIOUR - It appears that the leading zeroes are being stripped before the 6/7 digit validation is being applied, which is giving errors for values which should be allowed.

EXPECTED BEHAVIOUR - leading zeroes should not be stripped before the 6/7 digit validation is applied. Values such as "000004" and "087084" are acceptable, and should be allowed.

Note that as per the UK Grid Reference Finder, even the smallest possible 6 digit values - (000001, 000001) give an acceptable coordinate

## Screenshots

### Screenshot 1: Current behaviour - validation error for leading zeroes

Description: This screenshot shows the "Enter the coordinates at the centre point of the site" page with a validation error. The error banner states "There is a problem" with two error messages: "Eastings must be 6 digits" and "Northings must be 6 or 7 digits". Both the Eastings and Northings fields contain the value "000004" (6 digits with leading zeroes), which should be valid according to the UK Grid Reference system. The fields are highlighted in red indicating validation failure. This demonstrates the bug where leading zeroes cause valid coordinates to be rejected.

### Screenshot 2: UK Grid Reference Finder showing valid coordinates with leading zeroes

Description: This screenshot shows the UK Grid Reference Finder tool (an external reference tool for validating UK grid coordinates). The tool displays a map with input fields for "X (Easting)" showing "100000" and "Y (Northing)" showing "100000". A red marker is placed on the map in the Celtic Sea off the coast of Cornwall, demonstrating that coordinates with leading zeroes (when the first digit is 0 or 1) are valid UK grid references. This external tool accepts these values, confirming that the marine licensing service should also accept them.

### Screenshot 3: Example of valid northing with leading zero

Description: This screenshot shows the "Start and end point" page with two coordinate fields. The "Eastings of start and end point" field contains "402265" (a 6-digit value without leading zeroes). The "Northings of start and end point" field contains "087084" (a 7-digit value with a leading zero) and is highlighted in red with the error message "Northings of start and end point must be 6 or 7 digits". This demonstrates that the validation incorrectly rejects the northing value "087084", even though it is 6 digits and represents a valid UK grid reference. The leading zero is being stripped, reducing it to 5 digits before validation, causing the error.

## Acceptance criteria

**AC1 - Accept eastings with leading zeroes**

GIVEN I am entering coordinates for a site

WHEN I enter an easting value with leading zeroes (e.g., "000004", "000700", "087084")

AND the value is 6 digits in length

AND the numerical value is between 0 and 700000

THEN the value should be accepted as valid

AND no validation error should be displayed

**AC2 - Accept northings with leading zeroes**

GIVEN I am entering coordinates for a site

WHEN I enter a northing value with leading zeroes (e.g., "000004", "087084")

AND the value is 6 or 7 digits in length

AND the numerical value is between 0 and 1200000

THEN the value should be accepted as valid

AND no validation error should be displayed

**AC3 - Maintain leading zeroes in stored values**

GIVEN I have entered easting and northing values with leading zeroes

WHEN the coordinates are saved

THEN the leading zeroes should be preserved in the stored value

AND when I return to edit the coordinates, the leading zeroes should be displayed

**AC4 - Display leading zeroes on review pages**

GIVEN I have entered coordinates with leading zeroes

WHEN I view the coordinates on the "Review site details" page or "Check your answers" page

THEN the coordinates should be displayed with their leading zeroes intact

AND the format should be consistent with the entered values
