# ML-233: MANUAL - RSD - Delete Site from Review Site Details

## User Story

**AS** an applicant  
**I WANT** to be able to delete a manually added site from the Review Site Details page  
**SO THAT** I can manage my site list and remove any sites I no longer need

## Background

The user can manually add multiples sites onto their notification, and this story will allow them to delete manually added sites (they can't delete uploaded sites individually like this).

When they select the option to delete, they will be asked to confirm. Once they confirm, they go back to the review site details page and the site will have been deleted. If they delete the last site, they are returned to the task list and the "Site details" task will be updated to "Not yet started".

## Resources

The flow is fully implemented in the prototype:

- Review site details page in prototype
- Confirmation page in prototype

## Out of Scope

TBC

## Questions and Answers

**Q.** What happens when they delete the last site on the page?

**A.** As per prototype they go back to the task list and the "Site details" task is updated to "Not yet started".

## Screenshots

### Screenshot 1: Review Site Details Page with Delete Site Link

**Page layout showing:**

- Standard GOV.UK header with crown logo and "GOV.UK" branding
- Blue service header containing "Get permission for marine work" as the service name
- Navigation area containing "Projects", "Defra account", and "Sign out" links
- Beta banner with blue background stating "This is a new service. Help us improve it and give your feedback (opens in new tab)." with feedback link
- Back link (with left arrow) for navigation to return to the previous page
- "South coast sea samples" displayed as the project name caption above the main heading
- "Review site details" as the main H1 heading in large, bold text
- **"Providing the site location" summary card** containing method and multiple site confirmation
- **"Activity details" summary card** showing shared activity information including:
  - Activity dates confirmation and date range
  - Activity description confirmation and shared description text
- **"Site 2 details" summary card** displaying:
  - **"Delete site" link** prominently positioned in the top right corner of the summary card
  - Site name: "Barryshingles pier samples"
  - Coordinate entry method and coordinate system information
  - Start and end points, Point 2, and Point 3 coordinate data
  - **Map view** section with placeholder map showing triangular site boundary
- **"Add another site" button** positioned below all site details
- Guidance text explaining save options
- **"Save and continue" button** (green) and "Cancel" link at the bottom
- Standard GOV.UK footer with licensing and regulatory information

### Screenshot 2: Delete Site Confirmation Page

**Page layout showing:**

- Standard GOV.UK header with crown logo and "GOV.UK" branding
- Blue service header containing "Get permission for marine work" as the service name
- Navigation area with standard links (Projects, Defra account, Sign out)
- Beta banner with feedback link functionality
- Back link for navigation to return to the previous page
- "South coast sea samples" displayed as the project name caption
- **"Are you sure you want to delete this site?" as the main H1 heading** in large, bold text
- **Site identification section** displayed as a grey-bordered quote block containing:
  - **"Site 2: Barryshingles pier samples"** clearly identifying which site will be deleted
- **Confirmation action buttons:**
  - **"Yes, delete site" button** with red/warning background styling indicating destructive action
  - **"Cancel" link** in blue text providing alternative action
- Clean, minimal page layout following GOV.UK design system patterns for confirmation pages
- Appropriate spacing and typography to ensure clear decision-making interface
- Standard GOV.UK footer elements

## Acceptance Criteria

### AC1 - Display delete site link on Review Site Details page for manually input sites

**GIVEN** a logged in user has manually entered some sites  
**WHEN** they are in the Review Site Details page  
**THEN** display a delete site link next to the site details

**NOTE:** The uploaded sites functionality has not been built yet but the link should not display if uploaded sites are viewed

### AC2 - Show confirmation dialog when delete site link is clicked

**GIVEN** a logged in user is on the Review Site Details page  
**AND** they have already manually entered some sites  
**WHEN** they click the Delete site link  
**THEN** present them with a confirmation dialog with the site number and site name

### AC3 - Delete site if confirmation dialog accepted

**GIVEN** a user been presented with a confirmation dialog after clicking the Delete site link  
**WHEN** the user clicks Yes delete site  
**THEN** return them to the Review Site Details page with the site removed  
**AND** the site numbers on the card are regenerated so there is no gap

### AC4 - Return to site details if confirmation dialog cancelled

**GIVEN** a user been presented with a confirmation dialog after clicking the Delete site link  
**WHEN** the user clicks Cancel  
**THEN** return them to the Review Site Details page with no changes

### AC5 - Last site is deleted from the Review Site Details page

**GIVEN** a logged in user has manually entered some sites  
**WHEN** the last site is deleted  
**THEN** redirect to the Task List page  
**AND** update the site details task status to "Not yet started"  
**AND** ensure all the site numbers are reset if new sites are added later

### AC6 - Ensure reporting remains consistent if only one site is submitted when multiple expected

**GIVEN** the question "Do you need to tell us about more than one site?" was answered as Yes  
**WHEN** only one site is submitted  
**THEN** change the historical answer of the "Do you need to tell us about more than one site?" question to No

**AC6 fixes reporting.** It will not change the UI which will look like the original flow - as this is a rare edge case which only impacts reporting.

## Standard Behaviour

**"Back" link** - when I select the "Back" link (if present), I will be returned to the page I was on immediately prior to the current page. Any changes I made on the current page will be discarded.

**"Cancel" link** - when I select the "Cancel" link (if present) I will be returned to the review site details page. Any changes I made on the current page will be discarded.

**Displaying validation errors** - if any validation errors are triggered, they will be displayed in standard GDS format i.e. [error summary](https://design-system.service.gov.uk/components/error-summary/) at the top of the page, and [error message](https://design-system.service.gov.uk/components/error-message/) against the specific item that triggered the error. The wording of error messages should be verified against the data dictionary.
